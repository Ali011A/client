@if(member){
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-4">
      <h1>Your Profile</h1>
    </div>
    <div class="col-sm-8">
      <div class="alert alert-info" *ngIf="editForm?.dirty">
        <strong>Information:</strong> You have made changes. Any unsaved changes will be lost!
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-4">
      <div class="card">
        <img
          src="{{member.photoUrl || './assets/user.png'}}"
          alt="{{member.knownAs}}"
          class="card-img-top img-thumbnail">
        <div class="card-body">
          <div>
            <strong>Location:</strong>
            <p>{{member.city}}, {{member.country}}</p>
          </div>
          <div>
            <strong>Age:</strong>
            <p>{{member.age}}</p>
          </div>
          <div>
            <strong>Last Active:</strong>
            <p>{{member.lastActive|timeago }}</p>
          </div>
          <div>
            <strong>Member since:</strong>
            <p>{{member.created|date:'dd MMM yyyy'}}</p>
          </div>
        </div>
        <div class="card-footer">
          <button
            [disabled]="!editForm?.dirty"
            form="editForm"
            class="btn btn-success btn-block"
            type="submit">
            Save Changes
          </button>
        </div>
      </div>
    </div>

    <div class="col-sm-8">
      <div class="tab-panel">
        <div class="tabs">
          <input type="radio" name="tabs" id="tab1" checked="checked">
          <label for="tab1" class="tab">About {{member.knownAs}}</label>
          <div class="tab-content">
            <div class="col-sm-12">
              <form #editForm="ngForm" id="editForm" (ngSubmit)="updateMember()">
                <h4>Description</h4>
                <textarea
                  name="introduction"
                  rows="6"
                  class="form-control"
                  [(ngModel)]="member!.introduction"
                  placeholder="Tell us about yourself..."></textarea>

                <h4 class="mt-3">Looking For</h4>
                <textarea
                  name="lookingFor"
                  rows="6"
                  class="form-control"
                  [(ngModel)]="member!.lookingFor"
                  placeholder="What are you looking for?"></textarea>

                <h4 class="mt-3">Interests</h4>
                <textarea
                  name="interests"
                  rows="6"
                  class="form-control"
                  [(ngModel)]="member!.interests"
                  placeholder="Your interests and hobbies..."></textarea>

                <h4 class="mt-3">Location Details</h4>
                <div class="form-group">
                  <label>City:</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control"
                    [(ngModel)]="member!.city"
                    placeholder="Your city">
                </div>
                <div class="form-group">
                  <label>Country:</label>
                  <input
                    type="text"
                    name="country"
                    class="form-control"
                    [(ngModel)]="member!.country"
                    placeholder="Your country">
                </div>
              </form>
            </div>
          </div>

          <input type="radio" name="tabs" id="tab2">
          <label for="tab2" class="tab">Edit Photos</label>
          <div class="tab-content">
            <div class="col-sm-12">
              <div class="photo-editor">
                <div class="row">
                  <h2>Photo Management</h2>
                  <p>Add and manage your photos here</p>

                  <div class="photo-upload-section">
                    <div class="upload-box">

<div class="mt-4">
  <h3>ADD PHOTOS</h3>

  <div
    ng2FileDrop
    [ngClass]="{ 'nv-file-over': hasBaseDropZoneOver }"
    (fileOver)="fileOverBase($event)"
    [uploader]="uploader"
    class="well my-drop-zone"
  >
    Drag and drop images here
  </div>

  <div class="mt-3" *ngIf="uploader?.queue?.length">
    <h4>Upload queue</h4>
    <p>Queue length: {{ uploader?.queue?.length }}</p>

    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Size</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of uploader?.queue">
          <td>{{ item?.file?.name }}</td>
          <td *ngIf="uploader?.options?.isHTML5">{{ item?.file?.size / 1024 / 1024 | number: '.2' }} MB</td>
        </tr>
      </tbody>
    </table>

    <div>
      <div>Queue progress:</div>
      <div class="progress">
        <div
          class="progress-bar"
          role="progressbar"
          [ngStyle]="{ width: uploader?.progress + '%' }"
        ></div>
      </div>
      <div class="mt-2">
        <button class="btn btn-success btn-sm" (click)="uploader?.uploadAll()" [disabled]="!uploader?.getNotUploadedItems()?.length">
          <i class="fa fa-upload"></i> Upload all
        </button>
        <button class="btn btn-warning btn-sm" (click)="uploader?.cancelAll()" [disabled]="!uploader?.isUploading">
          <i class="fa fa-ban"></i> Cancel all
        </button>
        <button class="btn btn-danger btn-sm" (click)="uploader?.clearQueue()" [disabled]="!uploader?.queue?.length">
          <i class="fa fa-trash"></i> Remove all
        </button>
      </div>
    </div>
  </div>
</div>

                    </div>
                  </div>

                  <div class="current-photos" *ngIf="member?.photos && member.photos.length > 0">
                    <h4>Current Photos</h4>
                    <div class="photos-grid">
                      <div class="photo-item" *ngFor="let photo of member.photos">
                        <img [src]="photo.url" [alt]="member.knownAs" class="img-thumbnail">
                        <div class="photo-actions">
                          <button class="btn btn-sm btn-primary" *ngIf="!photo.isMain"
                          (click)="setMainPhoto(photo)" [disabled]="photo.isMain"
                          >
                            Set Main
                          </button>
                          <button class="btn btn-sm btn-danger" *ngIf="!photo.isMain"
                          (click)="deletePhoto(photo.id)" [disabled]="photo.isMain"
                          >
                            Delete
                          </button>
                          <span class="badge badge-success" *ngIf="photo.isMain">Main</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
}
